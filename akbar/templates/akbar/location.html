{% extends 'akbar/base.html' %}

{% block style %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        #map {
            height: 500px;
            width: 100%;
        }
    </style>
{% endblock %}

{% block log %}
    <a href="{% url 'logout' %}">Logout</a>
{% endblock %}

{% block content %}
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Initialize the map
            var map = L.map('map').setView([25.2426, 86.9824], 13);  // Coordinates for Bhagalpur

            // Load and display tile layer from OpenStreetMap
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Define custom marker icons
            var blueIcon = L.icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            var redIcon = L.icon({
                iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            var car = L.icon({
                iconUrl: 'https://cdn.iconscout.com/icon/premium/png-512-thumb/car-mode-8876005-8010942.png?f=webp&w=256',
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            // Define an array of locations with coordinates and descriptions
            var locations = [
                { lat: 25.2426, lng: 86.9829},
                { lat: 25.2460, lng: 86.9699},
                { lat: 25.2543, lng: 87.0010},
                { lat: 25.2307, lng: 86.9890},
                { lat: 25.2406, lng: 87.0219},
                { lat: 25.2292, lng: 87.0169},
                { lat: 25.2565, lng: 86.9617},
                { lat: 25.2065, lng: 87.0207},
                { lat: 25.2422, lng: 86.9865},
                { lat: 25.2480, lng: 87.0093}
            ];

            // Loop through the locations array and add markers
            locations.forEach(function(location, index) {
    let markerIcon;

    if (index < 2) {
        markerIcon = blueIcon; // First 5 markers are blue
    } else if (index < 5) {
        markerIcon = redIcon; // Next 5 markers are red
    } else {
        markerIcon = car; // All markers after that are car icons
    }

    L.marker([location.lat, location.lng], { icon: markerIcon }).addTo(map)
        .bindPopup(location.popup);
});
        });
    </script>

    <div class="bins">
        <ul>
            <li>Unfilled Bins: 2</li>
            <li>Full Bins: 3</li>
        </ul>
    </div>

    <style>
        #map-container {
            position: relative;
            overflow: hidden;
        }

        .bins ul {
            list-style-type: none;  /* Remove bullet points */
            display: flex;          /* Use Flexbox */
            justify-content: space-around; /* Equal space between items */
            align-items: center;    /* Center items vertically */
            padding: 0;
            margin: 0;              /* To center vertically in the view */
        }

        .bins ul li {
            font-size: 24px;        /* Increase font size */
            padding: 10px 20px;
            border-radius: 5px;     /* Rounded corners */
            margin: 30px;           /* Space between items */
        }
    </style>
    <div class="bkc">
        <h4>----Notifications----</h4>
        <h5>Truck 1 has ILLEGALLY Dumped</h5>
    </div>
    <style>
        .bkc {
            margin-left: 17rem;
            margin-right: 17rem;
            background-color: white;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
            padding-bottom: 5px;
            padding-left: 3px;
            padding-right: 3px;
        }
        .bkc h4 {
            text-align: center;
        }
    </style>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
{% endblock %}

